var e={},n=[],r=e=>e,t=n.map,o=Array.isArray,i="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout,l=e=>{var n="";if("string"==typeof e)return e;if(o(e))for(var r,t=0;t<e.length;t++)(r=l(e[t]))&&(n+=(n&&" ")+r);else for(var t in e)e[t]&&(n+=(n&&" ")+t);return n},s=(e,n)=>{for(var r in{...e,...n})if("function"==typeof(o(e[r])?e[r][0]:e[r]))n[r]=e[r];else if(e[r]!==n[r])return!0},a=e=>null==e?e:e.key,u=(e,n,r,t,o,i)=>{if("key"===n);else if("style"===n)for(var s in{...r,...t})r=null==t||null==t[s]?"":t[s],"-"===s[0]?e[n].setProperty(s,r):e[n][s]=r;else"o"===n[0]&&"n"===n[1]?((e.events||(e.events={}))[n=n.slice(2)]=t)?r||e.addEventListener(n,o):e.removeEventListener(n,o):!i&&"list"!==n&&"form"!==n&&n in e?e[n]=null==t?"":t:null==t||!1===t||"class"===n&&!(t=l(t))?e.removeAttribute(n):e.setAttribute(n,t)},f=(e,n,r)=>{var t=e.props,o=3===e.type?document.createTextNode(e.tag):(r=r||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag,{is:t.is}):document.createElement(e.tag,{is:t.is});for(var i in t)u(o,i,null,t[i],n,r);for(var l=0;l<e.children.length;l++)o.appendChild(f(e.children[l]=c(e.children[l]),n,r));return e.node=o},d=(e,n,r,t,o,i)=>{if(r===t);else if(null!=r&&3===r.type&&3===t.type)r.tag!==t.tag&&(n.nodeValue=t.tag);else if(null==r||r.tag!==t.tag)n=e.insertBefore(f(t=c(t),o,i),n),null!=r&&e.removeChild(r.node);else{var l,s,m,p,h=r.props,v=t.props,g=r.children,y=t.children,w=0,q=0,b=g.length-1,N=y.length-1;for(var k in i=i||"svg"===t.tag,{...h,...v})("value"===k||"selected"===k||"checked"===k?n[k]:h[k])!==v[k]&&u(n,k,h[k],v[k],o,i);for(;q<=N&&w<=b&&null!=(m=a(g[w]))&&m===a(y[q]);)d(n,g[w].node,g[w],y[q]=c(y[q++],g[w++]),o,i);for(;q<=N&&w<=b&&null!=(m=a(g[b]))&&m===a(y[N]);)d(n,g[b].node,g[b],y[N]=c(y[N--],g[b--]),o,i);if(w>b)for(;q<=N;)n.insertBefore(f(y[q]=c(y[q++]),o,i),(s=g[w])&&s.node);else if(q>N)for(;w<=b;)n.removeChild(g[w++].node);else{var C={},A={};for(k=w;k<=b;k++)null!=(m=g[k].key)&&(C[m]=g[k]);for(;q<=N;)m=a(s=g[w]),p=a(y[q]=c(y[q],s)),A[m]||null!=p&&p===a(g[w+1])?(null==m&&n.removeChild(s.node),w++):null==p||1===r.type?(null==m&&(d(n,s&&s.node,s,y[q],o,i),q++),w++):(m===p?(d(n,s.node,s,y[q],o,i),A[p]=!0,w++):null!=(l=C[p])?(d(n,n.insertBefore(l.node,s&&s.node),l,y[q],o,i),A[p]=!0):d(n,s&&s.node,null,y[q],o,i),q++);for(;w<=b;)null==a(s=g[w++])&&n.removeChild(s.node);for(var k in C)null==A[k]&&n.removeChild(C[k].node)}}return t.node=n},c=(e,n)=>!0!==e&&!1!==e&&e?"function"==typeof e.tag?((!n||null==n.memo||((e,n)=>{for(var r in e)if(e[r]!==n[r])return!0;for(var r in n)if(e[r]!==n[r])return!0})(n.memo,e.memo))&&((n=e.tag(e.memo)).memo=e.memo),n):e:h(""),m=n=>3===n.nodeType?h(n.nodeValue,n):p(n.nodeName.toLowerCase(),e,t.call(n.childNodes,m),1,n),p=(e,n,r,t,o)=>({tag:e,props:n,key:n.key,children:r,type:t,node:o}),h=(r,t)=>p(r,e,n,3,t),v=(e,r,t=n)=>p(e,r,o(t)?t:[t]);function g(e,n){var r,t={};for(r in e)t[r]=e[r];for(r in n)t[r]=n[r];return t}function y(e,n){fetch(n.url,n.options).then((function(e){if(!e.ok)throw e;return e})).then((function(e){return e[n.response]()})).then((function(r){e(n.action,r)})).catch((function(r){e(n.error,r)}))}const w=e=>{let n=new Object;for(var r=location.search.substring(1).split("&"),t=0;r[t];t++){var o=r[t].split("=");n[o[0]]=o[1]}return{...e,q:"q"in n&&decodeURI(n.q)}},q=e=>v("ul",{},[...e.sholist.map((e=>JSON.parse(JSON.stringify(e)))).map((e=>(e=>v("div",{},[v("li",{},[v("h2",{},h(e.name)),v("p",{},h(e.symptoms))])]))({name:e.name,similarity:e.similarity,symptoms:e.symptoms,q:null,error:null})))]);var b,N;(({node:t,view:l,subscriptions:a,dispatch:u=r,init:f=e})=>{var c,p,h=t&&m(t),v=[],g=e=>{c!==e&&(null==(c=e)&&(u=a=y=r),a&&(v=((e,r=n,t)=>{for(var o,i,l=[],a=0;a<e.length||a<r.length;a++)o=e[a],i=r[a],l.push(i&&!0!==i?!o||i[0]!==o[0]||s(i[1],o[1])?[i[0],i[1],(o&&o[2](),i[0](t,i[1]))]:o:o&&o[2]());return l})(v,a(c),u)),l&&!p&&i(y,p=!0))},y=()=>t=d(t.parentNode,t,h,h=l(c),w,p=!1),w=function(e){u(this.events[e.type],e)};(u=u(((e,n)=>"function"==typeof e?u(e(c,n)):o(e)?"function"==typeof e[0]?u(e[0],e[1]):e.slice(1).map((e=>e&&!0!==e&&e[0](u,e[1])),g(e[0])):g(e))))(f)})({init:(b={q:"",sholist:[],fetching:!1},[{...b,fetching:!0},(N={url:"https://y3vglivbe6.execute-api.ap-northeast-1.amazonaws.com/Prod/search",options:{method:"POST",body:JSON.stringify({word:w(b).q})},action:(e,n)=>({...e,fetching:!1,sholist:n}),error:(e,n)=>({...e,fetching:!1,error:n})},[y,g({options:{},response:"json",error:N.action},N)])]),view:e=>v("main",{},[v("h1",{},h("証検索インターフェース")),v("form",{},[v("input",{type:"search",name:"q",placeholder:"症状を入力...",autofocus:!0})]),e.fetching?v("h1",{},h("loading")):e.error?v("h1",{},h(e.error)):e.sholist&&q(e)]),node:document.body});
//# sourceMappingURL=index.389ace75.js.map
