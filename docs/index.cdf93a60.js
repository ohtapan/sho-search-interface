var e={},r=[],n=e=>e,t=r.map,o=Array.isArray,i="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout,l=e=>{var r="";if("string"==typeof e)return e;if(o(e))for(var n,t=0;t<e.length;t++)(n=l(e[t]))&&(r+=(r&&" ")+n);else for(var t in e)e[t]&&(r+=(r&&" ")+t);return r},s=(e,r)=>{for(var n in{...e,...r})if("function"==typeof(o(e[n])?e[n][0]:e[n]))r[n]=e[n];else if(e[n]!==r[n])return!0},a=e=>null==e?e:e.key,u=(e,r,n,t,o,i)=>{if("key"===r);else if("style"===r)for(var s in{...n,...t})n=null==t||null==t[s]?"":t[s],"-"===s[0]?e[r].setProperty(s,n):e[r][s]=n;else"o"===r[0]&&"n"===r[1]?((e.events||(e.events={}))[r=r.slice(2)]=t)?n||e.addEventListener(r,o):e.removeEventListener(r,o):!i&&"list"!==r&&"form"!==r&&r in e?e[r]=null==t?"":t:null==t||!1===t||"class"===r&&!(t=l(t))?e.removeAttribute(r):e.setAttribute(r,t)},f=(e,r,n)=>{var t=e.props,o=3===e.type?document.createTextNode(e.tag):(n=n||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag,{is:t.is}):document.createElement(e.tag,{is:t.is});for(var i in t)u(o,i,null,t[i],r,n);for(var l=0;l<e.children.length;l++)o.appendChild(f(e.children[l]=c(e.children[l]),r,n));return e.node=o},d=(e,r,n,t,o,i)=>{if(n===t);else if(null!=n&&3===n.type&&3===t.type)n.tag!==t.tag&&(r.nodeValue=t.tag);else if(null==n||n.tag!==t.tag)r=e.insertBefore(f(t=c(t),o,i),r),null!=n&&e.removeChild(n.node);else{var l,s,p,m,h=n.props,v=t.props,g=n.children,y=t.children,b=0,w=0,q=g.length-1,N=y.length-1;for(var k in i=i||"svg"===t.tag,{...h,...v})("value"===k||"selected"===k||"checked"===k?r[k]:h[k])!==v[k]&&u(r,k,h[k],v[k],o,i);for(;w<=N&&b<=q&&null!=(p=a(g[b]))&&p===a(y[w]);)d(r,g[b].node,g[b],y[w]=c(y[w++],g[b++]),o,i);for(;w<=N&&b<=q&&null!=(p=a(g[q]))&&p===a(y[N]);)d(r,g[q].node,g[q],y[N]=c(y[N--],g[q--]),o,i);if(b>q)for(;w<=N;)r.insertBefore(f(y[w]=c(y[w++]),o,i),(s=g[b])&&s.node);else if(w>N)for(;b<=q;)r.removeChild(g[b++].node);else{var C={},A={};for(k=b;k<=q;k++)null!=(p=g[k].key)&&(C[p]=g[k]);for(;w<=N;)p=a(s=g[b]),m=a(y[w]=c(y[w],s)),A[p]||null!=m&&m===a(g[b+1])?(null==p&&r.removeChild(s.node),b++):null==m||1===n.type?(null==p&&(d(r,s&&s.node,s,y[w],o,i),w++),b++):(p===m?(d(r,s.node,s,y[w],o,i),A[m]=!0,b++):null!=(l=C[m])?(d(r,r.insertBefore(l.node,s&&s.node),l,y[w],o,i),A[m]=!0):d(r,s&&s.node,null,y[w],o,i),w++);for(;b<=q;)null==a(s=g[b++])&&r.removeChild(s.node);for(var k in C)null==A[k]&&r.removeChild(C[k].node)}}return t.node=r},c=(e,r)=>!0!==e&&!1!==e&&e?"function"==typeof e.tag?((!r||null==r.memo||((e,r)=>{for(var n in e)if(e[n]!==r[n])return!0;for(var n in r)if(e[n]!==r[n])return!0})(r.memo,e.memo))&&((r=e.tag(e.memo)).memo=e.memo),r):e:h(""),p=r=>3===r.nodeType?h(r.nodeValue,r):m(r.nodeName.toLowerCase(),e,t.call(r.childNodes,p),1,r),m=(e,r,n,t,o)=>({tag:e,props:r,key:r.key,children:n,type:t,node:o}),h=(n,t)=>m(n,e,r,3,t),v=(e,n,t=r)=>m(e,n,o(t)?t:[t]);function g(e,r){var n,t={};for(n in e)t[n]=e[n];for(n in r)t[n]=r[n];return t}function y(e,r){fetch(r.url,r.options).then((function(e){if(!e.ok)throw e;return e})).then((function(e){return e[r.response]()})).then((function(n){e(r.action,n)})).catch((function(n){e(r.error,n)}))}const b=e=>{let r=new Object;for(var n=location.search.substring(1).split("&"),t=0;n[t];t++){var o=n[t].split("=");r[o[0]]=o[1]}return{...e,q:"q"in r&&decodeURI(r.q)}},w=e=>v("ul",{},[...e.sholist.map((e=>JSON.parse(JSON.stringify(e)))).map((e=>(e=>v("div",{},[v("li",{},[v("h2",{},h(e.name)),v("p",{},h(e.description)),v("details",{},[v("summary",{},h("詳細")),v("p",{},[v("b",{},h("症状：")),h(e.symptoms)]),v("p",{},[v("b",{},h("証が現れる部位：")),h(e.region)]),v("p",{},[v("b",{},h("主な薬物：")),h(e.crude_drags)]),v("p",{},[v("b",{},h("方剤例：")),h(e.prescriptions)]),v("p",{},[v("b",{},h("治療法：")),h(e.treatment)])]),v("p",{},v("font",{color:"gray"},h("出典： "+e.references)))])]))({name:e.name,similarity:e.similarity,description:e.description,symptoms:e.symptoms,region:e.region,crude_drags:e.crude_drags,prescriptions:e.prescriptions,treatment:e.treatment,references:e.references,q:null,error:null})))]);var q,N;(({node:t,view:l,subscriptions:a,dispatch:u=n,init:f=e})=>{var c,m,h=t&&p(t),v=[],g=e=>{c!==e&&(null==(c=e)&&(u=a=y=n),a&&(v=((e,n=r,t)=>{for(var o,i,l=[],a=0;a<e.length||a<n.length;a++)o=e[a],i=n[a],l.push(i&&!0!==i?!o||i[0]!==o[0]||s(i[1],o[1])?[i[0],i[1],(o&&o[2](),i[0](t,i[1]))]:o:o&&o[2]());return l})(v,a(c),u)),l&&!m&&i(y,m=!0))},y=()=>t=d(t.parentNode,t,h,h=l(c),b,m=!1),b=function(e){u(this.events[e.type],e)};(u=u(((e,r)=>"function"==typeof e?u(e(c,r)):o(e)?"function"==typeof e[0]?u(e[0],e[1]):e.slice(1).map((e=>e&&!0!==e&&e[0](u,e[1])),g(e[0])):g(e))))(f)})({init:(q={q:"",sholist:[],fetching:!1},[{...q,fetching:!0},(N={url:"https://y3vglivbe6.execute-api.ap-northeast-1.amazonaws.com/Prod/search",options:{method:"POST",body:JSON.stringify({word:b(q).q})},action:(e,r)=>({...e,fetching:!1,sholist:r}),error:(e,r)=>({...e,fetching:!1,error:r})},[y,g({options:{},response:"json",error:N.action},N)])]),view:e=>v("main",{},[v("h1",{},h("証検索インターフェース")),v("form",{},[v("input",{type:"search",name:"q",placeholder:"症状を入力...",autofocus:!0})]),e.fetching?v("h1",{},h("loading")):e.error?v("h1",{},h(e.error)):e.sholist&&w(e)]),node:document.body});
//# sourceMappingURL=index.cdf93a60.js.map
